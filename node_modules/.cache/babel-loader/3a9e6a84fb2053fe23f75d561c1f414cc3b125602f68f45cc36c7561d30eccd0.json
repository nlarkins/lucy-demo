{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaslarkins/Documents/projects/gitLucy/lucy-demo/src/AudioDemo.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport './AudioDemo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AudioDemo() {\n  _s();\n  const audioRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioContext = useRef(new (window.AudioContext || window.webkitAudioContext)());\n  const analyser = useRef(audioContext.current.createAnalyser());\n  const source = useRef(null);\n  const playAudio = () => {\n    if (!audioContext.current.state || audioContext.current.state === \"suspended\") {\n      audioContext.current.resume();\n    }\n    if (audioRef.current) {\n      if (!source.current) {\n        source.current = audioContext.current.createMediaElementSource(audioRef.current);\n        source.current.connect(analyser.current);\n        analyser.current.connect(audioContext.current.destination);\n        visualizeAudio();\n      }\n      if (isPlaying) {\n        audioRef.current.pause();\n      } else {\n        audioRef.current.play();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  };\n  const visualizeAudio = () => {\n    analyser.current.fftSize = 2048;\n    const bufferLength = analyser.current.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const WIDTH = canvas.width;\n    const HEIGHT = canvas.height;\n    function draw() {\n      requestAnimationFrame(draw);\n\n      // Clear the canvas\n      ctx.clearRect(0, 0, WIDTH, HEIGHT);\n      analyser.current.getByteTimeDomainData(dataArray);\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = 'white'; // Line color\n\n      ctx.beginPath();\n      const sliceWidth = WIDTH * 1.0 / bufferLength;\n      let x = 0;\n      for (let i = 0; i < bufferLength; i++) {\n        const v = dataArray[i] / 128.0; // Normalize to [0, 2]\n        const y = HEIGHT - (v - 1) * HEIGHT / 2; // Position the waveform at the bottom\n\n        if (i === 0) {\n          ctx.moveTo(x, y);\n        } else {\n          ctx.lineTo(x, y);\n        }\n        x += sliceWidth;\n      }\n      ctx.lineTo(WIDTH, HEIGHT / 2);\n      ctx.stroke();\n    }\n    draw();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-demo-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/MeetLucy.png\",\n      alt: \"Qsic Logo\",\n      className: \"qsic-logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"play-button\",\n      onClick: playAudio,\n      children: isPlaying ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pause-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"play-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"audio-visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cta\",\n      children: [\"Interested in Lucy? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/contact_link\",\n        className: \"cta-link\",\n        children: \"Contact us for a demo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: \"/lucy-demo.wav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n}\n_s(AudioDemo, \"LSF59ymu4ZICtUdnlDj/It8MfV8=\");\n_c = AudioDemo;\nexport default AudioDemo;\nvar _c;\n$RefreshReg$(_c, \"AudioDemo\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","AudioDemo","_s","audioRef","canvasRef","isPlaying","setIsPlaying","audioContext","window","AudioContext","webkitAudioContext","analyser","current","createAnalyser","source","playAudio","state","resume","createMediaElementSource","connect","destination","visualizeAudio","pause","play","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","canvas","ctx","getContext","WIDTH","width","HEIGHT","height","draw","requestAnimationFrame","clearRect","getByteTimeDomainData","lineWidth","strokeStyle","beginPath","sliceWidth","x","i","v","y","moveTo","lineTo","stroke","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","href","_c","$RefreshReg$"],"sources":["/Users/nicholaslarkins/Documents/projects/gitLucy/lucy-demo/src/AudioDemo.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport './AudioDemo.css';\n\nfunction AudioDemo() {\n    const audioRef = useRef(null);\n    const canvasRef = useRef(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const audioContext = useRef(new (window.AudioContext || window.webkitAudioContext)());\n    const analyser = useRef(audioContext.current.createAnalyser());\n    const source = useRef(null);\n\n    const playAudio = () => {\n        if (!audioContext.current.state || audioContext.current.state === \"suspended\") {\n            audioContext.current.resume();\n        }\n    \n        if (audioRef.current) {\n            if (!source.current) {\n                source.current = audioContext.current.createMediaElementSource(audioRef.current);\n                source.current.connect(analyser.current);\n                analyser.current.connect(audioContext.current.destination);\n                visualizeAudio();\n            }\n            if (isPlaying) {\n                audioRef.current.pause();\n            } else {\n                audioRef.current.play();\n            }\n            setIsPlaying(!isPlaying);\n        }\n    };\n    \n\n    const visualizeAudio = () => {\n        analyser.current.fftSize = 2048;\n        const bufferLength = analyser.current.frequencyBinCount;\n        const dataArray = new Uint8Array(bufferLength);\n    \n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        const WIDTH = canvas.width;\n        const HEIGHT = canvas.height;\n    \n        function draw() {\n            requestAnimationFrame(draw);\n            \n            // Clear the canvas\n            ctx.clearRect(0, 0, WIDTH, HEIGHT);\n            \n            analyser.current.getByteTimeDomainData(dataArray);\n            \n            ctx.lineWidth = 2;\n            ctx.strokeStyle = 'white'; // Line color\n        \n            ctx.beginPath();\n            const sliceWidth = WIDTH * 1.0 / bufferLength;\n            let x = 0;\n        \n            for (let i = 0; i < bufferLength; i++) {\n                const v = dataArray[i] / 128.0; // Normalize to [0, 2]\n                const y = HEIGHT - (v - 1) * HEIGHT / 2; // Position the waveform at the bottom\n        \n                if (i === 0) {\n                    ctx.moveTo(x, y);\n                } else {\n                    ctx.lineTo(x, y);\n                }\n        \n                x += sliceWidth;\n            }\n        \n            ctx.lineTo(WIDTH, HEIGHT / 2);\n            ctx.stroke();\n        }\n        \n        draw();\n    };\n\n    return (\n        <div className=\"audio-demo-container\">\n            <img src=\"/MeetLucy.png\" alt=\"Qsic Logo\" className=\"qsic-logo\" />\n            <div className=\"play-button\" onClick={playAudio}>\n                {isPlaying ? (\n                    <div className=\"pause-icon\"></div>\n                ) : (\n                    <div className=\"play-icon\"></div>\n                )}\n            </div>\n            <canvas ref={canvasRef} className=\"audio-visualizer\"></canvas>\n            <div className=\"cta\">\n                Interested in Lucy? <a href=\"/contact_link\" className=\"cta-link\">Contact us for a demo</a>\n            </div>\n            <audio ref={audioRef} src=\"/lucy-demo.wav\"></audio>\n        </div>\n    );\n}\n\nexport default AudioDemo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}