{"ast":null,"code":"var _jsxFileName = \"/Users/nicholaslarkins/Documents/projects/lucy-demo/src/AudioDemo.js\",\n  _s = $RefreshSig$();\n// src/AudioDemo.js\n\nimport React, { useRef, useEffect } from 'react';\nimport './AudioDemo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AudioDemo() {\n  _s();\n  const audioRef = useRef(null);\n  const canvasRef = useRef(null);\n  let audioContext, analyser, dataArray, bufferLength;\n  const playAudio = () => {\n    if (audioRef.current) {\n      audioRef.current.play();\n      visualizeAudio();\n    }\n  };\n  const visualizeAudio = () => {\n    audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    analyser = audioContext.createAnalyser();\n    const source = audioContext.createMediaElementSource(audioRef.current);\n    source.connect(analyser);\n    analyser.connect(audioContext.destination);\n    analyser.fftSize = 256;\n    bufferLength = analyser.frequencyBinCount;\n    dataArray = new Uint8Array(bufferLength);\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    canvas.width = WIDTH * devicePixelRatio;\n    canvas.height = HEIGHT * devicePixelRatio;\n    ctx.scale(devicePixelRatio, devicePixelRatio);\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const WIDTH = canvas.width;\n    const HEIGHT = canvas.height;\n    function draw() {\n      requestAnimationFrame(draw);\n      analyser.getByteFrequencyData(dataArray);\n      ctx.clearRect(0, 0, WIDTH, HEIGHT); // Clear the canvas for each frame\n      const barWidth = WIDTH / bufferLength;\n      let barHeight;\n      let x = 0;\n      for (let i = 0; i < bufferLength; i++) {\n        barHeight = dataArray[i] / 255 * HEIGHT; // Adjusted scaling\n\n        // Create a gradient color for the bars\n        const gradient = ctx.createLinearGradient(0, HEIGHT, 0, HEIGHT - barHeight);\n        gradient.addColorStop(0, '#FFC0CB'); // Light Pink at the top\n        gradient.addColorStop(1, '#D8BFD8'); // Light Purple at the bottom\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\n        x += barWidth;\n      }\n    }\n    draw();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"audio-demo-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"/qsic-logo.png\",\n      alt: \"Qsic Logo\",\n      className: \"qsic-logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"play-button\",\n      onClick: playAudio\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"audio-visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cta\",\n      children: [\"Interested in Lucy? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/contact_link\",\n        className: \"cta-link\",\n        children: \"Contact us for a demo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: \"/lucy-demo.wav\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(AudioDemo, \"0K7Ujp1aJM+7/FxRkj+rnC/WoRE=\");\n_c = AudioDemo;\nexport default AudioDemo;\nvar _c;\n$RefreshReg$(_c, \"AudioDemo\");","map":{"version":3,"names":["React","useRef","useEffect","jsxDEV","_jsxDEV","AudioDemo","_s","audioRef","canvasRef","audioContext","analyser","dataArray","bufferLength","playAudio","current","play","visualizeAudio","window","AudioContext","webkitAudioContext","createAnalyser","source","createMediaElementSource","connect","destination","fftSize","frequencyBinCount","Uint8Array","devicePixelRatio","canvas","width","WIDTH","height","HEIGHT","ctx","scale","getContext","draw","requestAnimationFrame","getByteFrequencyData","clearRect","barWidth","barHeight","x","i","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","href","_c","$RefreshReg$"],"sources":["/Users/nicholaslarkins/Documents/projects/lucy-demo/src/AudioDemo.js"],"sourcesContent":["// src/AudioDemo.js\n\nimport React, { useRef, useEffect } from 'react';\nimport './AudioDemo.css';\n\nfunction AudioDemo() {\n    const audioRef = useRef(null);\n    const canvasRef = useRef(null);\n    let audioContext, analyser, dataArray, bufferLength;\n\n    const playAudio = () => {\n        if (audioRef.current) {\n            audioRef.current.play();\n            visualizeAudio();\n        }\n    };\n\n    const visualizeAudio = () => {\n        audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        analyser = audioContext.createAnalyser();\n        const source = audioContext.createMediaElementSource(audioRef.current);\n        source.connect(analyser);\n        analyser.connect(audioContext.destination);\n        analyser.fftSize = 256;\n        bufferLength = analyser.frequencyBinCount;\n        dataArray = new Uint8Array(bufferLength);\n        \n\tconst devicePixelRatio = window.devicePixelRatio || 1;\n\tcanvas.width = WIDTH * devicePixelRatio;\n\tcanvas.height = HEIGHT * devicePixelRatio;\n\tctx.scale(devicePixelRatio, devicePixelRatio);\n\n        const canvas = canvasRef.current;\n        const ctx = canvas.getContext(\"2d\");\n        const WIDTH = canvas.width;\n        const HEIGHT = canvas.height;\n\tfunction draw() {\n\t    requestAnimationFrame(draw);\n\t    analyser.getByteFrequencyData(dataArray);\n\t    ctx.clearRect(0, 0, WIDTH, HEIGHT); // Clear the canvas for each frame\n\t    const barWidth = WIDTH / bufferLength;\n\t    let barHeight;\n\t    let x = 0;\n\n\t    for (let i = 0; i < bufferLength; i++) {\n\t\tbarHeight = (dataArray[i] / 255) * HEIGHT; // Adjusted scaling\n\n\t\t// Create a gradient color for the bars\n\t\tconst gradient = ctx.createLinearGradient(0, HEIGHT, 0, HEIGHT - barHeight);\n\t\tgradient.addColorStop(0, '#FFC0CB'); // Light Pink at the top\n\t\tgradient.addColorStop(1, '#D8BFD8'); // Light Purple at the bottom\n\n\t\tctx.fillStyle = gradient;\n\t\tctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\n\t\tx += barWidth;\n\t    }\n\t}\n\n    \t\n\n\n        draw();\n    };\n\n    return (\n        <div className=\"audio-demo-container\">\n            <img src=\"/qsic-logo.png\" alt=\"Qsic Logo\" className=\"qsic-logo\" />\n            <div className=\"play-button\" onClick={playAudio}>\n            </div>\n            <canvas ref={canvasRef} className=\"audio-visualizer\"></canvas>\n            <div className=\"cta\">\n                Interested in Lucy? <a href=\"/contact_link\" className=\"cta-link\">Contact us for a demo</a>\n            </div>\n            <audio ref={audioRef} src=\"/lucy-demo.wav\"></audio>\n        </div>\n    );\n}\n\nexport default AudioDemo;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}